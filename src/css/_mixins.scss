//
//  Function to create an optimized svg url
//

//
//  Function to replace characters in a string
//
@function str-replace($string, $search, $replace: '') {
    $index: str-index($string, $search);
    @if $index {
        @return str-slice($string, 1, $index - 1) + $replace +
        str-replace(str-slice($string, $index +
        str-length($search)), $search, $replace);
    }
    @return $string;
}

@function svg-url($svg){
    //
    //  Chunk up string in order to avoid
    //  "stack level too deep" error
    //
    $encoded:'';
    $slice: 2000;
    $index: 0;
    $loops: ceil(str-length($svg)/$slice);
    @for $i from 1 through $loops {
        $chunk: str-slice($svg, $index, $index + $slice - 1);
        //
        //   Encode (may need a few extra replacements)
        //
        $chunk: str-replace($chunk,'"','\'');
        $chunk: str-replace($chunk,'<','%3C');
        $chunk: str-replace($chunk,'>','%3E');
        $chunk: str-replace($chunk,'&','%26');
        $chunk: str-replace($chunk,'#','%23');
        $encoded: #{$encoded}#{$chunk};
        $index: $index + $slice;
    }
    @return url("data:image/svg+xml;charset=utf8,#{$encoded}");
}


@mixin dividers {
  &:before {
    content: '';
    width: 100%;
    height: 1px;
    background-color: $c-divider;
    margin: 5px 0 4px 0;
    display:block;
    }
}

@mixin divider-invisible {
  &:before {
    background-color: transparent;
  }
}

@mixin icon-showmore {
  &:after {
    content: '';
    width: 13px;
    height: 13px;
    background-image: svg-url('<svg width="13" height="13" viewBox="0 1 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(0 1)"><ellipse fill="#BDBDBD" opacity=".6" cx="6.5" cy="6.5" rx="6.5" ry="6.5"/><path fill="#000" d="M6 7l-3.97-.2v-.6L6 6l.2-3.97h.6L7 6l3.97.2v.6L7 7l-.2 3.97h-.6"/></g></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    float:left;
    margin: 3px 0 0;
  }
}

@mixin icon-showless {
  &:after {
    content: '';
    width: 13px;
    height: 13px;
    background-image: svg-url('<svg width="13" height="13" viewBox="0 21 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(0 21)"><ellipse fill="#BDBDBD" opacity=".6" cx="6.5" cy="6.5" rx="6.5" ry="6.5"/><path fill="#000" d="M6 7l-3.97-.2v-.6L6 6h1l3.97.2v.6L7 7"/></g></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    float:left;
    margin: 3px 0 0;
  }
}

@mixin icon-play-small {
  &:before {
    content: '';
    background-image: svg-url('<svg width="54" height="54" viewBox="163 80 54 54" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(163 80)"><circle fill="#DC2A7D" cx="27" cy="27" r="27"/><path fill="#FFF" d="M42.35 27.2v-1.12l-25.1-10.33-.94.72V36.8l.95.65"/></g></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    width: 54px;
    height: 54px;
  }
}

@mixin icon-play {
  &:after {
    content: '';
    width: 45px;
    height: 37.5px;
    background-image: svg-url('<svg width="45" height="37.5" viewBox="1404 6229 20 17" xmlns="http://www.w3.org/2000/svg"><path fill="#F6F6F6" fill-rule="evenodd" d="M1424 6237.97l-19.29 8.03-.71-.502v-15.933l.71-.565 19.29 8.092"/></svg>');
    position: absolute;
    top: 50%;
    left: 30px;
    transform: translateY(-50%);
  }
}

@mixin icon-timestamp {
  &:after {
    content: '';
    width: 12px;
    height: 12px;
    background-image: svg-url('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path d="M12 6c0 3.3-2.7 6-6 6C2.7 12 0 9.3 0 6 0 2.7 2.7 0 6 0 9.3 0 12 2.7 12 6zM6.4 1.1H5.6L5.2 6.2l0.8 0.7 4.2-0.4V5.7L6.8 5.5 6.4 1.1z" fill="#bdbdbd"/></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    float: left;
    margin-right: 4px;
    margin-top: 2px;
  }
}

@mixin icon-share {
  &:after {
    content: '';
    position: absolute;
    width: 12px;
    height: 12px;
    background-image: svg-url('<svg xmlns="http://www.w3.org/2000/svg" width="11" height="11" viewBox="0 0 11.1 10.9"><path d="M11.1 9.3c0 0.9-0.7 1.6-1.6 1.6 -0.9 0-1.6-0.7-1.6-1.6 0-0.1 0-0.1 0-0.2L2.9 6.6c-0.3 0.3-0.7 0.5-1.1 0.5 -0.9 0-1.7-0.7-1.7-1.6 0-0.9 0.7-1.6 1.7-1.6 0.4 0 0.8 0.2 1.1 0.5l4.9-2.4C7.8 1.8 7.8 1.7 7.8 1.6 7.8 0.7 8.5 0 9.4 0c0.9 0 1.6 0.7 1.6 1.6 0 0.9-0.7 1.7-1.6 1.7 -0.4 0-0.8-0.2-1.1-0.4L3.4 5.3c0 0 0 0.1 0 0.2 0 0.1 0 0.2 0 0.2l4.9 2.4c0.3-0.3 0.7-0.4 1.1-0.4C10.3 7.6 11.1 8.4 11.1 9.3zM8.4 1.6c0 0.5 0.5 1 1 1 0.5 0 1-0.4 1-1 0-0.5-0.4-1-1-1C8.9 0.7 8.4 1.1 8.4 1.6zM10.4 9.3c0-0.5-0.4-1-1-1 -0.5 0-1 0.4-1 1 0 0.5 0.5 1 1 1C10 10.3 10.4 9.8 10.4 9.3z" fill="#999"/></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    @include mq(mobile) {
      top: 45%;
    }
    @include mq(mobileLandscape) {
      top: 42%;
    }
    @include mq($from:tablet) {
      top: 40%;
    }
  }
}

@mixin icon-close {
  &:before {
    cursor: pointer;
    content: '';
    position: absolute;
    top: -25px;
    right: 0;
    width: 18px;
    height: 18px;
    background-image: svg-url('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M0 1.1l1-1 7 6.3L14.9 0l1 1L9.6 8l6.3 7 -1 1L8 9.6l-7 6.3L0 14.9l6.4-6.9L0 1.1z" fill="#ECECEC"/></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
  }
}

@mixin tiny-play {
  &:before {
    content: '';
    width: 12px;
    height: 12px;
    background-size: 12px 12px;
    background-repeat: no-repeat;
    background-image: svg-url('<svg width="14" height="12" viewBox="9 8 14 12" xmlns="http://www.w3.org/2000/svg"><path fill="#fb0" fill-rule="evenodd" d="M23 14.33v-.62L9.5 8l-.5.4v11.25l.5.35"/></svg>');
    display: block;
  }
}

@mixin tiny-play-dark {
  &:before {
    content: '';
    width: 12px;
    height: 12px;
    background-size: 12px 12px;
    background-repeat: no-repeat;
    background-image: svg-url('<svg width="14" height="12" viewBox="9 8 14 12" xmlns="http://www.w3.org/2000/svg"><path fill="#161616" fill-rule="evenodd" d="M23 14.33v-.62L9.5 8l-.5.4v11.25l.5.35"/></svg>');
    display: block;
  }
}

@mixin original-drama-logo {
  &:after {
    content: '';
    background-image: svg-url('<svg width="147" height="121" viewBox="331 59 147 121" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><ellipse id="a" cx="60.02" cy="60" rx="60.02" ry="60"/><mask id="b" x="0" y="0" width="120.04" height="120" fill="#fff"><use xlink:href="#a"/></mask></defs><g fill="none" fill-rule="evenodd" transform="translate(331 59)"><use stroke="#DC2A7D" mask="url(#b)" stroke-width="3.58" xlink:href="#a"/><path d="M12.25 72.27c-5.35 0-8.45-3.35-8.45-8.63 0-5.6 3.74-8.8 8.42-8.8 5.3 0 8.44 3.2 8.44 8.6 0 5.57-3.76 8.83-8.4 8.83zm.03-2.94c1.8 0 3.23-1.24 3.23-5.66 0-4.62-1.4-5.9-3.3-5.9-1.8 0-3.2 1.16-3.2 5.64 0 4.6 1.5 6 3.4 6zm9.43 2.53H31v-2.3l-2.43-.5v-9.12c1-.5 2.15-.76 3.67-.76.47 0 1.04.03 1.42.12V55c-.2-.06-.6-.12-.88-.12-1.87 0-3.33 1.2-4.2 2.6h-.2V55.1l-.48-.22-6.26.76V58l2.06.5v10.57l-2 .48v2.3zm12.8 0h8.8v-2.3l-1.9-.5V55.1l-.4-.22-6.5.76V58l2.2.5v10.57l-2 .48v2.3zm4.3-18.53c1.6 0 2.8-1 2.8-2.5 0-1.52-1.2-2.5-2.7-2.5-1.5 0-2.7.98-2.7 2.5 0 1.5 1.27 2.5 2.76 2.5zM51.3 78.3c-5.2 0-7.56-1.73-7.56-3.85 0-1.77 1.5-2.9 3.4-3.5v-.17c-1.35-.4-2.07-1.26-2.07-2.53 0-1.33.95-2.56 2.3-3.54-1.48-.8-2.5-2.2-2.5-4.2 0-3.6 2.98-5.6 7.1-5.6 1.3 0 2.43.2 3.4.6l5.2-.7v3l-2.5-.1c.57.7.9 1.5.9 2.6 0 3.7-2.9 5.7-7.04 5.7-.9 0-1.76-.1-2.5-.3-.4.4-.56.9-.56 1.28 0 .4.32.9 1.17.9h5.5c2.8 0 5.1 1.15 5.1 4.4 0 3.45-2.87 6.33-9.4 6.33zm.4-2.74c3.3 0 4.5-1.14 4.5-2.4 0-1.1-.67-1.5-2.25-1.5h-4.4c-.8.35-1.3 1.05-1.3 1.97 0 1.1.96 1.93 3.4 1.93zm.26-12.24c1.4 0 2.48-.85 2.48-2.97 0-2.34-1.04-3.04-2.43-3.04-1.3 0-2.4.9-2.4 3 0 2.3 1.1 3.1 2.4 3.1zm9.47 8.54h8.8v-2.3l-1.94-.5V55.1l-.5-.22-6.6.76V58l2.1.5v10.57l-2 .48v2.3zm4.27-18.53c1.57 0 2.8-1 2.8-2.5 0-1.52-1.23-2.5-2.8-2.5-1.47 0-2.74.98-2.74 2.5 0 1.5 1.27 2.5 2.76 2.5zM71 71.86h8.5v-2.3l-1.65-.42V59.08c.87-.28 1.7-.53 2.67-.53 1.6 0 2.4.5 2.4 2.15v8.44l-1.65.4v2.32h8.45v-2.3l-1.9-.5v-10c0-3.04-1.74-4.2-4.46-4.2-2.22 0-3.92.78-5.5 1.92h-.2V55.1l-.47-.22-6.3.76V58l2 .5v10.57l-2 .48v2.3zm24.5.4c-3 0-5-1.83-5-4.55 0-3.1 2.24-4.2 5.78-4.8l3.32-.6v-1.1c0-1.9-.57-2.6-3.33-2.6-1.42 0-3.16.2-4.27.3v-2.7c1.5-.5 4-1.1 6.6-1.1 4.02 0 5.9 1.7 5.9 5.3v8.1c0 .88.5 1.1 1.22 1.1h.6v2.27c-.5.3-1.8.7-3.12.7-1.64 0-2.66-.55-3.07-1.9h-.15c-.85 1.06-2.37 1.95-4.5 1.95zm2-2.9c.9 0 1.7-.44 2.1-.82v-3.96l-2.02.13c-1.58.2-2.2.9-2.2 2.4s.65 2.3 2.1 2.3zm9.6 2.5v-2.3l2-.5V51.82l-2.2-.5v-2.4l6.63-.72.44.22V69.1l2 .47v2.3h-8.9zm-46.47 28.4c-3.13 0-6.67-1.93-6.67-8.32 0-6.54 3.54-9.07 8.22-9.07 1.3 0 2.1.2 2.85.47v-3.47l-2.2-.5v-2.4l6.6-.74.5.22v20.17l1.94.5v2.32l-5.94.76-.44-.22v-1.62h-.2c-.9 1.14-2.6 1.9-4.7 1.9zm1.84-3.48c1.07 0 1.96-.35 2.56-.66v-9.58c-.56-.35-1.1-.73-2.4-.73-2.14 0-3.57 1.2-3.57 5.6 0 4 1.24 5.4 3.4 5.4zm10.37 3.1v-2.3l2-.48V86.54l-2.05-.5v-2.38l6.2-.76.4.22v2.37h.2c.8-1.4 2.3-2.6 4.2-2.6.3 0 .7 0 .9.1v4.3c-.4-.1-1-.2-1.5-.2-1.5 0-2.7.2-3.7.7V97l2.4.47v2.3h-9.3zm17.7.4c-3 0-5-1.82-5-4.54 0-3.16 2.24-4.2 5.8-4.87l3.3-.66v-1.1c0-1.9-.56-2.6-3.3-2.6-1.44 0-3.18.2-4.3.3v-2.7c1.53-.5 4.03-1.1 6.6-1.1 4.04 0 5.9 1.7 5.9 5.3v8.1c0 .9.5 1.1 1.24 1.1h.6v2.3c-.5.3-1.8.7-3.13.7-1.63 0-2.65-.6-3.06-1.9H95c-.85 1.1-2.37 1.9-4.5 1.9zm2-2.9c.87 0 1.7-.44 2.1-.82V92.6l-2 .13c-1.6.13-2.23.9-2.23 2.34 0 1.52.7 2.3 2.2 2.3zm9.54 2.5v-2.3l2-.48V86.54l-2.07-.5v-2.38l6.3-.76.5.22v1.62h.2c1.5-1.1 3.1-1.87 5.4-1.87 1.8 0 3.2.63 3.8 2.02h.2c1.5-1.2 3.4-2.1 5.6-2.1 2.6 0 4.4 1.3 4.4 4.3V97l1.9.47v2.3H122v-2.3l1.6-.4v-8.3c0-1.74-.7-2.28-2.35-2.28-.9 0-1.7.2-2.5.5.04.2.1.6.1 1v9l1.6.4v2.3h-8.1v-2.3l1.6-.4v-8.3c0-1.8-.74-2.3-2.26-2.3-1.1 0-1.7.2-2.6.5V97l1.6.4v2.34H102zm33.87.4c-3 0-5-1.82-5-4.54 0-3.16 2.26-4.2 5.8-4.87l3.3-.66v-1.1c0-1.9-.55-2.6-3.3-2.6-1.42 0-3.16.2-4.27.3v-2.7c1.52-.5 4.02-1.1 6.6-1.1 4.03 0 5.9 1.7 5.9 5.3v8.1c0 .9.5 1.1 1.23 1.1h.6v2.3c-.5.3-1.8.7-3.1.7-1.6 0-2.6-.6-3-1.9h-.1c-.8 1.1-2.4 1.9-4.5 1.9zm2-2.9c.9 0 1.7-.44 2.1-.82V92.6l-2 .13c-1.6.13-2.22.9-2.22 2.34 0 1.52.67 2.3 2.12 2.3z" fill="#FFF"/></g></svg>');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: 100%;
    display: block;
    float: left;
    width: 147px;
    height: 121px;
  }
}

@mixin icon-info {
  &:after {
    content: '';
    width: 21px;
    height: 21px;
    background-size: 21px 21px;
    background-repeat: no-repeat;
    background-image: svg-url('<svg width="21" height="21" viewBox="99 6 21 21" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(100 7)"><circle fill="#333" cx="9.5" cy="9.5" r="9.5"/><path d="M8.02 15.15c.8 0 1.7-.2 2.2-.42l.3-.9h-1.2l1.88-6.25-.18-.1-3.14.38-.3 1.06h1.07l-1.5 5.1c-.07.17-.08.3-.08.43 0 .52.4.7.95.7zm2.34-8.5c.66 0 1.26-.43 1.26-1.17 0-.57-.45-.97-1.1-.97-.65 0-1.25.47-1.25 1.2 0 .57.44.96 1.1.96z" fill="#BDBDBD"/></g></svg>');
    display: inline-block;
    vertical-align: top;
    position: relative;
    left: 4px;
  }
}
